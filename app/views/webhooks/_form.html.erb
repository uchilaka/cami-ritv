<%= form_with(model: webhook, class: "contents") do |form| %>
  <% if webhook.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md mt-3">
      <h2><%= pluralize(webhook.errors.count, "error") %> prohibited this webhook from being saved:</h2>

      <ul class="list-disc ml-6">
        <% webhook.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="my-5">
    <%= form.label :slug %>
    <%= form.text_field :slug, class: ["block shadow rounded-md border outline-none px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-blue-600": webhook.errors[:slug].none?, "border-red-400 focus:outline-red-600": webhook.errors[:slug].any?}] %>
  </div>

  <% if webhook.persisted? %>
    <div class="my-5">
      <%= form.label :url %>
      <%= form.text_field :url, readonly: true, class: "block shadow rounded-md border outline-none px-3 py-2 mt-2 w-full" %>
    </div>
  <% end %>

  <div class="my-5">
    <%= form.label :verification_token %>
    <%= form.text_field :verification_token, class: ["block shadow rounded-md border outline-none px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-blue-600": webhook.errors[:verification_token].none?, "border-red-400 focus:outline-red-600": webhook.errors[:verification_token].any?}] %>
  </div>

  <!-- integration_id -->
  <div class="my-5">
    <%= form.label :integration_id %>
    <%= form.text_field :integration_id, class: ["block shadow rounded-md border outline-none px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-blue-600": webhook.errors[:integration_id].none?, "border-red-400 focus:outline-red-600": webhook.errors[:integration_id].any?}] %>
  </div>

  <!-- Integration Name -->
  <div class="my-5">
    <%= form.label :integration_name %>
    <%= form.text_field :integration_name, class: ["block shadow rounded-md border outline-none px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-blue-600": webhook.errors[:integration_name].none?, "border-red-400 focus:outline-red-600": webhook.errors[:integration_name].any?}] %>
  </div>

  <!-- Notes (Trix WYSIWYG) -->
  <div class="my-5 dark:bg-gray-700">
    <%= form.label :readme, t('labels.accounts.notes') %>
    <%= form.rich_text_area :readme, rows: 4, class: "block shadow rounded-md border border-gray-400 outline-none px-3 py-2 mt-2 w-full" %>
  </div>

  <div class="flex flex-col md:flex-row md:items-center md:justify-end md:space-x-4">
    <%= yield :form_actions %>
    <%= form.submit class: primary_btn_classes("cursor-pointer px-5 py-3") %>
  </div>
<% end %>
